<?php
include_once('scOrderStatus.php');
//include_once('scOrderDescription.php');

class OrderDetails {
	private $order_id ="";
	private $is_parent_order ="";
	private $parent_order_id ="";
	private $company_id ="";
	private $user_id ="";
	private $total ="";
	private $subtotal ="";
	private $discount ="";
	private $subtotal_discount ="";
	private $payment_surcharge ="";
	private $shipping_ids ="";
	private $shipping_cost ="";
	private $timestamp ="";
	private $status ="";
	private $notes ="";
	private $details ="";
	private $promotions ="";
	private $promotion_ids ="";
	private $title ="";
	private $firstname ="";
	private $lastname ="";
	private $company ="";
	private $b_title ="";
	private $b_firstname ="";
	private $b_lastname ="";
	private $b_address ="";
	private $b_address_2 ="";
	private $b_city ="";
	private $b_county ="";
	private $b_state ="";
	private $b_country ="";
	private $b_zipcode ="";
	private $b_phone ="";
	private $s_title ="";
	private $s_firstname ="";
	private $s_lastname ="";
	private $s_address ="";
	private $s_address_2 ="";
	private $s_city ="";
	private $s_county ="";
	private $s_state ="";
	private $s_country ="";
	private $s_zipcode ="";
	private $s_phone ="";
	private $phone ="";
	private $fax ="";
	private $url ="";
	private $email ="";
	private $payment_id ="";
	private $tax_exempt ="";
	private $lang_code ="";
	private $ip_address ="";
	private $repaid ="";
	private $validation_code ="";
	private $localization_id ="";
	private $rating_info ="";
	private $nss_done ="";
	private $label_printed ="";
	private $coupon_codes ="";
	private $payment_option_id ="";
	private $billing_done ="";
	private $emi_id ="";
	private $emi_fee ="";
	private $billing_advance_done ="";
	private $reverse_billing_done ="";
	private $reverse_advance_done ="";
	private $company_name ="";
	public function getCompanyName(){
		return $this->company_name;
	}
	public function setCompanyName($value){
		 $this->company_name = $value;
	}
	public function getOrderId(){
		return $this->order_id;
	}
	public function getIsParentOrder(){
		return $this->is_parent_order;
	}
	public function getParentOrderId(){
		return $this->parent_order_id;
	}
	public function getCompanyId(){
		return $this->company_id;
	}
	public function getUserId(){
		return $this->user_id;
	}
	public function getTotal(){
		return $this->total;
	}
	public function getSubtotal(){
		return $this->subtotal;
	}
	public function getDiscount(){
		return $this->discount;
	}
	public function getSubtotalDiscount(){
		return $this->subtotal_discount;
	}
	public function getPaymentSurcharge(){
		return $this->payment_surcharge;
	}
	public function getShippingIds(){
		return $this->shipping_ids;
	}
	public function getShippingCost(){
		return $this->shipping_cost;
	}
	public function getTimestamp(){
		return $this->timestamp;
	}
	public function getStatus(){
		return $this->status;
	}
	public function getNotes(){
		return $this->notes;
	}
	public function getDetails(){
		return $this->details;
	}
	public function getPromotions(){
		return $this->promotions;
	}
	public function getPromotionIds(){
		return $this->promotion_ids;
	}
	public function getTitle(){
		return $this->title;
	}
	public function getFirstname(){
		return $this->firstname;
	}
	public function getLastname(){
		return $this->lastname;
	}
	public function getCompany(){
		return $this->company;
	}
	public function getBTitle(){
		return $this->b_title;
	}
	public function getBFirstname(){
		return $this->b_firstname;
	}
	public function getBLastname(){
		return $this->b_lastname;
	}
	public function getBAddress(){
		return $this->b_address;
	}
	public function getBAddress2(){
		return $this->b_address_2;
	}
	public function getBCity(){
		return $this->b_city;
	}
	public function getBCounty(){
		return $this->b_county;
	}
	public function getBState(){
		return $this->b_state;
	}
	public function getBCountry(){
		return $this->b_country;
	}
	public function getBZipcode(){
		return $this->b_zipcode;
	}
	public function getBPhone(){
		return $this->b_phone;
	}
	public function getSTitle(){
		return $this->s_title;
	}
	public function getSFirstname(){
		return $this->s_firstname;
	}
	public function getSLastname(){
		return $this->s_lastname;
	}
	public function getSAddress(){
		return $this->s_address;
	}
	public function getSAddress2(){
		return $this->s_address_2;
	}
	public function getSCity(){
		return $this->s_city;
	}
	public function getSCounty(){
		return $this->s_county;
	}
	public function getSState(){
		return $this->s_state;
	}
	public function getSCountry(){
		return $this->s_country;
	}
	public function getSZipcode(){
		return $this->s_zipcode;
	}
	public function getSPhone(){
		return $this->s_phone;
	}
	public function getPhone(){
		return $this->phone;
	}
	public function getFax(){
		return $this->fax;
	}
	public function getUrl(){
		return $this->url;
	}
	public function getEmail(){
		return $this->email;
	}
	public function getPaymentId(){
		return $this->payment_id;
	}
	public function getTaxExempt(){
		return $this->tax_exempt;
	}
	public function getLangCode(){
		return $this->lang_code;
	}
	public function getIpAddress(){
		return $this->ip_address;
	}
	public function getRepaid(){
		return $this->repaid;
	}
	public function getValidationCode(){
		return $this->validation_code;
	}
	public function getLocalizationId(){
		return $this->localization_id;
	}
	public function getRatingInfo(){
		return $this->rating_info;
	}
	public function getNssDone(){
		return $this->nss_done;
	}
	public function getLabelPrinted(){
		return $this->label_printed;
	}
	public function getCouponCodes(){
		return $this->coupon_codes;
	}
	public function getPaymentOptionId(){
		return $this->payment_option_id;
	}
	public function getBillingDone(){
		return $this->billing_done;
	}
	public function getEmiId(){
		return $this->emi_id;
	}
	public function getEmiFee(){
		return $this->emi_fee;
	}
	public function getBillingAdvanceDone(){
		return $this->billing_advance_done;
	}
	public function getReverseBillingDone(){
		return $this->reverse_billing_done;
	}
	public function getReverseAdvanceDone(){
		return $this->reverse_advance_done;
	}
/*	public function getOrderId($obj){
		return $obj->order_id;
	}
	public function getIsParentOrder($obj){
		return $obj->is_parent_order;
	}
	public function getParentOrderId($obj){
		return $obj->parent_order_id;
	}
	public function getCompanyId($obj){
		return $obj->company_id;
	}
	public function getUserId($obj){
		return $obj->user_id;
	}
	public function getTotal($obj){
		return $obj->total;
	}
	public function getSubtotal($obj){
		return $obj->subtotal;
	}
	public function getDiscount($obj){
		return $obj->discount;
	}
	public function getSubtotalDiscount($obj){
		return $obj->subtotal_discount;
	}
	public function getPaymentSurcharge($obj){
		return $obj->payment_surcharge;
	}
	public function getShippingIds($obj){
		return $obj->shipping_ids;
	}
	public function getShippingCost($obj){
		return $obj->shipping_cost;
	}
	public function getTimestamp($obj){
		return $obj->timestamp;
	}
	public function getStatus($obj){
		return $obj->status;
	}
	public function getNotes($obj){
		return $obj->notes;
	}
	public function getDetails($obj){
		return $obj->details;
	}
	public function getPromotions($obj){
		return $obj->promotions;
	}
	public function getPromotionIds($obj){
		return $obj->promotion_ids;
	}
	public function getTitle($obj){
		return $obj->title;
	}
	public function getFirstname($obj){
		return $obj->firstname;
	}
	public function getLastname($obj){
		return $obj->lastname;
	}
	public function getCompany($obj){
		return $obj->company;
	}
	public function getBTitle($obj){
		return $obj->b_title;
	}
	public function getBFirstname($obj){
		return $obj->b_firstname;
	}
	public function getBLastname($obj){
		return $obj->b_lastname;
	}
	public function getBAddress($obj){
		return $obj->b_address;
	}
	public function getBAddress2($obj){
		return $obj->b_address_2;
	}
	public function getBCity($obj){
		return $obj->b_city;
	}
	public function getBCounty($obj){
		return $obj->b_county;
	}
	public function getBState($obj){
		return $obj->b_state;
	}
	public function getBCountry($obj){
		return $obj->b_country;
	}
	public function getBZipcode($obj){
		return $obj->b_zipcode;
	}
	public function getBPhone($obj){
		return $obj->b_phone;
	}
	public function getSTitle($obj){
		return $obj->s_title;
	}
	public function getSFirstname($obj){
		return $obj->s_firstname;
	}
	public function getSLastname($obj){
		return $obj->s_lastname;
	}
	public function getSAddress($obj){
		return $obj->s_address;
	}
	public function getSAddress2($obj){
		return $obj->s_address_2;
	}
	public function getSCity($obj){
		return $obj->s_city;
	}
	public function getSCounty($obj){
		return $obj->s_county;
	}
	public function getSState($obj){
		return $obj->s_state;
	}
	public function getSCountry($obj){
		return $obj->s_country;
	}
	public function getSZipcode($obj){
		return $obj->s_zipcode;
	}
	public function getSPhone($obj){
		return $obj->s_phone;
	}
	public function getPhone($obj){
		return $obj->phone;
	}
	public function getFax($obj){
		return $obj->fax;
	}
	public function getUrl($obj){
		return $obj->url;
	}
	public function getEmail($obj){
		return $obj->email;
	}
	public function getPaymentId($obj){
		return $obj->payment_id;
	}
	public function getTaxExempt($obj){
		return $obj->tax_exempt;
	}
	public function getLangCode($obj){
		return $obj->lang_code;
	}
	public function getIpAddress($obj){
		return $obj->ip_address;
	}
	public function getRepaid($obj){
		return $obj->repaid;
	}
	public function getValidationCode($obj){
		return $obj->validation_code;
	}
	public function getLocalizationId($obj){
		return $obj->localization_id;
	}
	public function getRatingInfo($obj){
		return $obj->rating_info;
	}
	public function getNssDone($obj){
		return $obj->nss_done;
	}
	public function getLabelPrinted($obj){
		return $obj->label_printed;
	}
	public function getCouponCodes($obj){
		return $obj->coupon_codes;
	}
	public function getPaymentOptionId($obj){
		return $obj->payment_option_id;
	}
	public function getBillingDone($obj){
		return $obj->billing_done;
	}
	public function getEmiId($obj){
		return $obj->emi_id;
	}
	public function getEmiFee($obj){
		return $obj->emi_fee;
	}
	public function getBillingAdvanceDone($obj){
		return $obj->billing_advance_done;
	}
	public function getReverseBillingDone($obj){
		return $obj->reverse_billing_done;
	}
	public function getReverseAdvanceDone($obj){
		return $obj->reverse_advance_done;
	}/**/
	public function setOrderId($obj){
		$this->order_id = $obj->order_id;
	}
	public function setIsParentOrder($obj){
		$this->is_parent_order = $obj->is_parent_order;
	}
	public function setParentOrderId($obj){
		$this->parent_order_id = $obj->parent_order_id;
	}
	public function setCompanyId($obj){
		$this->company_id = $obj->company_id;
	}
	public function setUserId($obj){
		$this->user_id = $obj->user_id;
	}
	public function setTotal($obj){
		$this->total = $obj->total;
	}
	public function setSubtotal($obj){
		$this->subtotal = $obj->subtotal;
	}
	public function setDiscount($obj){
		$this->discount = $obj->discount;
	}
	public function setSubtotalDiscount($obj){
		$this->subtotal_discount = $obj->subtotal_discount;
	}
	public function setPaymentSurcharge($obj){
		$this->payment_surcharge = $obj->payment_surcharge;
	}
	public function setShippingIds($obj){
		$this->shipping_ids = $obj->shipping_ids;
	}
	public function setShippingCost($obj){
		$this->shipping_cost = $obj->shipping_cost;
	}
	public function setTimestamp($obj){
		$this->timestamp = $obj->timestamp;
	}
	public function setStatus($obj){
		$this->status = $obj->status;
	}
	public function setNotes($obj){
		$this->notes = $obj->notes;
	}
	public function setDetails($obj){
		$this->details = $obj->details;
	}
	public function setPromotions($obj){
		$this->promotions = $obj->promotions;
	}
	public function setPromotionIds($obj){
		$this->promotion_ids = $obj->promotion_ids;
	}
	public function setTitle($obj){
		$this->title = $obj->title;
	}
	public function setFirstname($obj){
		$this->firstname = $obj->firstname;
	}
	public function setLastname($obj){
		$this->lastname = $obj->lastname;
	}
	public function setCompany($obj){
		$this->company = $obj->company;
	}
	public function setBTitle($obj){
		$this->b_title = $obj->b_title;
	}
	public function setBFirstname($obj){
		$this->b_firstname = $obj->b_firstname;
	}
	public function setBLastname($obj){
		$this->b_lastname = $obj->b_lastname;
	}
	public function setBAddress($obj){
		$this->b_address = $obj->b_address;
	}
	public function setBAddress2($obj){
		$this->b_address_2 = $obj->b_address_2;
	}
	public function setBCity($obj){
		$this->b_city = $obj->b_city;
	}
	public function setBCounty($obj){
		$this->b_county = $obj->b_county;
	}
	public function setBState($obj){
		$this->b_state = $obj->b_state;
	}
	public function setBCountry($obj){
		$this->b_country = $obj->b_country;
	}
	public function setBZipcode($obj){
		$this->b_zipcode = $obj->b_zipcode;
	}
	public function setBPhone($obj){
		$this->b_phone = $obj->b_phone;
	}
	public function setSTitle($obj){
		$this->s_title = $obj->s_title;
	}
	public function setSFirstname($obj){
		$this->s_firstname = $obj->s_firstname;
	}
	public function setSLastname($obj){
		$this->s_lastname = $obj->s_lastname;
	}
	public function setSAddress($obj){
		$this->s_address = $obj->s_address;
	}
	public function setSAddress2($obj){
		$this->s_address_2 = $obj->s_address_2;
	}
	public function setSCity($obj){
		$this->s_city = $obj->s_city;
	}
	public function setSCounty($obj){
		$this->s_county = $obj->s_county;
	}
	public function setSState($obj){
		$this->s_state = $obj->s_state;
	}
	public function setSCountry($obj){
		$this->s_country = $obj->s_country;
	}
	public function setSZipcode($obj){
		$this->s_zipcode = $obj->s_zipcode;
	}
	public function setSPhone($obj){
		$this->s_phone = $obj->s_phone;
	}
	public function setPhone($obj){
		$this->phone = $obj->phone;
	}
	public function setFax($obj){
		$this->fax = $obj->fax;
	}
	public function setUrl($obj){
		$this->url = $obj->url;
	}
	public function setEmail($obj){
		$this->email = $obj->email;
	}
	public function setPaymentId($obj){
		$this->payment_id = $obj->payment_id;
	}
	public function setTaxExempt($obj){
		$this->tax_exempt = $obj->tax_exempt;
	}
	public function setLangCode($obj){
		$this->lang_code = $obj->lang_code;
	}
	public function setIpAddress($obj){
		$this->ip_address = $obj->ip_address;
	}
	public function setRepaid($obj){
		$this->repaid = $obj->repaid;
	}
	public function setValidationCode($obj){
		$this->validation_code = $obj->validation_code;
	}
	public function setLocalizationId($obj){
		$this->localization_id = $obj->localization_id;
	}
	public function setRatingInfo($obj){
		$this->rating_info = $obj->rating_info;
	}
	public function setNssDone($obj){
		$this->nss_done = $obj->nss_done;
	}
	public function setLabelPrinted($obj){
		$this->label_printed = $obj->label_printed;
	}
	public function setCouponCodes($obj){
		$this->coupon_codes = $obj->coupon_codes;
	}
	public function setPaymentOptionId($obj){
		$this->payment_option_id = $obj->payment_option_id;
	}
	public function setBillingDone($obj){
		$this->billing_done = $obj->billing_done;
	}
	public function setEmiId($obj){
		$this->emi_id = $obj->emi_id;
	}
	public function setEmiFee($obj){
		$this->emi_fee = $obj->emi_fee;
	}
	public function setBillingAdvanceDone($obj){
		$this->billing_advance_done = $obj->billing_advance_done;
	}
	public function setReverseBillingDone($obj){
		$this->reverse_billing_done = $obj->reverse_billing_done;
	}
	public function setReverseAdvanceDone($obj){
		$this->reverse_advance_done = $obj->reverse_advance_done;
	}
	
	
	private $orderStatus = array();
	private $statusDescription =array();
	/**** Custom Methods ******/
	public function getOrderStatusObj($obj){
	   $OSO = new OrderStatus($obj);
	  //	var_dump($obj);
	  // $OSO->setAll($obj);
		return $OSO;
	}
	public function getLastOrderStatus(){
	//echo "'".sizeof($this->orderStatus)."' ";
	//var_dump($this->orderStatus[(sizeof($this->orderStatus)-1)]);
		return $this->getOrderStatusObj($this->orderStatus[(sizeof($this->orderStatus)-1)]);
	}
	public function getFirstOrderStatus(){
		return $this->getOrderStatusObj($this->orderStatus[0]);
	}
	public function getOrderStatusByIndex($index){
		return $this->getOrderStatusObj($this->orderStatus[$index]);
	}
	
	private function setOrderStatus($ObjOrderStatus){	
		$this->orderStatus[(sizeof($this->orderStatus))] = $ObjOrderStatus;
	}
	public function setAllOrderStatus($ObjOrderStatusArray){
		if(sizeof($ObjOrderStatusArray)>0){
			foreach($ObjOrderStatusArray as $obj => $objv)
				$this->setOrderStatus($objv);
		}else{
		return false;
		}
		//	var_dump($this->orderStatus);
	}
	public function setAllStatusDescription($ObjStatusDescriptionArray){
		//var_dump($ObjStatusDescriptionArray);
		foreach($ObjStatusDescriptionArray as $obj => $objv)
			$this->setStatusDescription($objv);
	}
	public function setStatusDescription($ObjStatusDescription){
		//var_dump($ObjStatusDescription);
			$this->statusDescription[$ObjStatusDescription->status] = $ObjStatusDescription->description;
	}
	public function getLastStatus(){
			return $this->getLastOrderStatus()->getToStatus(); 
	}
	public function getStatusDescriptionByStatusCode($StatusCode){
			return $this->statusDescription[$StatusCode]; 
	}
	public function getStatusDescription(){
			return $this->statusDescription[$this->getLastOrderStatus()->getToStatus()]; 
	}
	public function __construct($obj,$type = 'JSON')	{
		$this->setAll($obj,$type);
	}
	public function setAll($obj,$type = 'JSON'){
	
		if($type == 'JSON'){
			// set this object
		  if(sizeof($obj->order_table)>0){
			$_OrderDetails = $obj->order_table;
			foreach ($_OrderDetails as $key => $value){
				$this->$key = $value;
				
			}
			$_COMP_DETAILS = $obj->company_name;
			foreach ($_COMP_DETAILS as $key => $value){
//				$this->$key = $value;
				//echo $key." : ".$value."\n";
				$this->company_name = $value;
			}
			// set order status object
			if(sizeof($obj->order_history_table)>0){
				$this->setAllOrderStatus($obj->order_history_table);
			}else{
				$osArray['to_status'] = $this->status;
				$osArray['transition_date'] = $this->timestamp;
				$this->orderStatus[(sizeof($this->orderStatus))] = new OrderStatus('',$osArray);
//				$this->orderStatus[(sizeof($this->orderStatus))]->setToStatus($this->status);
//				$this->orderStatus[(sizeof($this->orderStatus))]->setTransitionDate($this->timestamp);
			}
			// set status description
			$this->setAllStatusDescription($obj->status_descriptions);
		  }else
		  return false;
		}
	}
	/***        **/ 
		
}
?>